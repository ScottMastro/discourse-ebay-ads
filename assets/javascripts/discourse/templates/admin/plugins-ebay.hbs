<div class="control-group">
  <div class="controls">
    <TextField
      @value={{this.ebaySeller}}
      @placeholderKey="ebay_ads.admin.username_prompt"
      @id="ebay-seller-search"
    />
    <DButton
      @action={{this.addSeller}}
      @icon="plus"
      @translatedLabel={{i18n "ebay_ads.admin.add"}}
      class="btn-primary"
    />
    <DButton
      @action={{this.blockSeller}}
      @translatedLabel={{i18n "ebay_ads.admin.block"}}
      @icon="ban"
      class="btn-primary btn-danger"
    />
  </div>
  <a href="https://www.ebay.com/usr/{{this.ebaySeller}}" target="_blank">https://www.ebay.com/usr/{{this.ebaySeller}}</a>
</div>

<div class="control-group">
  <div class="controls">
    <TextField
      @value={{this.blockReason}}
      @placeholderKey="ebay_ads.admin.block_seller_reason"
      @id="block-reason-text"
      style="width:80%"
    />
  </div>
</div>

<hr>

<h3>{{i18n "ebay_ads.admin.seller_table"}}</h3>
<div class="scrollable-table">
  <table>
    <thead>
      <tr>
        <th>{{i18n "ebay_ads.admin.user"}}</th>
        <th>{{i18n "ebay_ads.admin.seller"}}</th>
        <th>{{i18n "ebay_ads.admin.listings"}}</th>
        <th>{{i18n "ebay_ads.admin.block"}}</th>
        <th>{{i18n "ebay_ads.admin.reason"}}</th>
        <th></th>
        <th>{{i18n "ebay_ads.admin.delete"}}</th>
      </tr>
    </thead>
    <tbody>
      {{#each this.allSellers as |seller|}}
        <tr>
          <td>{{seller.username}}</td>
          <td>{{seller.ebay_username}}</td>
          <td>
            {{seller.listings_count}}
            <DButton
              @action={{this.dumpListings}}
              @icon="broom"
              class="btn-primary btn-danger"
            />
          </td>
          <td>
            {{#if seller.blocked}} ‚ùå {{else}} {{/if}}
          </td>
          <td title="{{seller.blocked_reason}}" class="reason-truncate-text">{{seller.blocked_reason}}</td>
          <td>
            {{#if seller.blocked}}
              <DButton 
                @action={{(fn this.unblockSellerFromTable seller.ebay_username)}}
                @translatedLabel={{i18n "ebay_ads.admin.unblock"}}
              />
            {{else}}
              <DButton 
                @action={{(fn this.blockSellerFromTable seller.ebay_username)}}
                @translatedLabel={{i18n "ebay_ads.admin.block"}}
                @icon="ban"
              />
            {{/if}}
          </td>
          <td>
            <DButton 
              @action={{(fn this.deleteSellerFromTable seller.ebay_username)}}
              @translatedLabel={{i18n "ebay_ads.admin.delete"}}
              class="btn-primary btn-danger"
              @icon="far-trash-alt"
            />
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div>
